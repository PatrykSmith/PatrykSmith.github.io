// VIEW FULL SITE BUTTON
// WRITTEN BY JACINDA PISTNER
// VERSION 01.04.16

!function(e){e.fn.viewFullSite=function(t){var i={breakPoint:639,buttonContainer:"body",useDefaultCSS:"yes",fixedPosition:"bottom"};return t&&e.extend(i,t),this.each(function(){function t(){var e='<a href="#" id="view-full-site" class="not-full-site">View Full Site</a>';n(e)}function n(t,n){e(t).appendTo(i.buttonContainer),l("viewFullSiteCookie")&&(e("#view-full-site").removeClass("not-full-site").addClass("on-full-site").text("View Mobile Site"),e('meta[name="viewport"]').attr("content","width=1024")),"yes"==i.useDefaultCSS&&r(),e("#view-full-site").click(function(t){t.preventDefault();var i=l("viewFullSiteCookie");i?(e(this).removeClass("on-full-site").addClass("not-full-site").text("View Full Site"),a("viewFullSiteCookie"),e('meta[name="viewport"]').attr("content","width=device-width, initial-scale=1.0, maximum-scale=1.0")):(e(this).removeClass("not-full-site").addClass("on-full-site").text("View Mobile Site"),e('meta[name="viewport"]').attr("content","width=1024"),o("viewFullSiteCookie"))}),s()}function o(e,t,i){var n;if(i){var o=new Date;o.setTime(o.getTime()+24*i*60*60*1e3),n="; expires="+o.toGMTString()}else n="";document.cookie=escape(e)+"="+escape(t)+n+"; path=/"}function l(e){for(var t=escape(e)+"=",i=document.cookie.split(";"),n=0;n<i.length;n++){for(var o=i[n];" "===o.charAt(0);)o=o.substring(1,o.length);if(0===o.indexOf(t))return unescape(o.substring(t.length,o.length))}return null}function a(e){o(e,null,-1)}function s(){var n=e(window).width();n<=i.breakPoint&&0==e("#view-full-site").length&&t()}function r(){var e=document.createElement("style");if(e){e.setAttribute("type","text/css");var t=document.getElementsByTagName("head")[0];t&&t.insertBefore(e,t.childNodes[0]);var n=i.buttonContainer+"{		position: relative;		margin-"+i.fixedPosition+": 44px !important;	}	#view-full-site {		width: 100%;		background: #eee;		box-shadow: 0 0 10px #333;		color: #333;		text-align: center;		text-decoration: none;		padding: 10px 0;		font-size: 18px;		display: block;		z-index: 9000;		position: fixed;"+i.fixedPosition+": 0;	}",o=document.createTextNode(n);e.styleSheet?e.styleSheet.cssText=n:e.appendChild(o)}}e(window).bind("resize",s);var u=e(window).width();u<=i.breakPoint&&0==e("#view-full-site").length&&t()})}}(jQuery);